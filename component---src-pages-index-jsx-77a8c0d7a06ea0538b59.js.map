{"version":3,"sources":["webpack:///./src/components/molecules/artefact-card/index.js","webpack:///./src/components/molecules/artefact-card/artefact-card.jsx","webpack:///./src/components/molecules/artefact-line/index.js","webpack:///./src/components/molecules/artefact-line/artefact-line.jsx","webpack:///./src/components/organisms/artefact-overview/artefact-overview.jsx","webpack:///./src/components/organisms/artefact-overview/index.js","webpack:///./src/pages/index.jsx","webpack:///./src/libs/transformers/graphic.js","webpack:///./src/cranach.config.js"],"names":["ArtefactCard","title","subtitle","date","to","imgSrc","imgAlt","classification","className","data-component","triggersInternalTransition","internalTransitionDirection","src","alt","modifierWithBox","ArtefactLine","masterData","printProcess","dimensions","CardView","type","icon","CardSmallView","ListView","SupportedViews","DefaultView","ArtefactOverview","items","view","data-active-view","map","item","key","inventoryNumber","titleShort","Switcher","handleChange","currentView","Item","onClick","data","i18n","graphic","flattenGraphQlEdges","allGraphicsJson","filter","byImageExistence","toAddedRepresentativeImage","toArtefact","useState","currentArtefactView","setCurrentArtefactView","data-page","titleLength","cranachCfg","getRepresentativeImageVariant","emptyImageType","infos","maxDimensions","width","height","variants","reduce","acc","size","imageType","images","representative","overall","length","rawItems","edges","edge","push","node","inventor","involvedPersons","find","person","role","classificationLevel2","objectName","replace","titles","substr","representativeImage","s","name","dating","dated","langCode","slug","module","exports"],"mappings":"mLAGeA,G,UCIA,oBACbC,aADa,MACL,GADK,MAEbC,gBAFa,MAEF,GAFE,MAGbC,YAHa,MAGN,GAHM,MAIbC,UAJa,MAIR,GAJQ,MAKbC,cALa,MAKJ,GALI,MAMbC,cANa,MAMJ,GANI,MAObC,sBAPa,MAOI,GAPJ,SASX,yBACEC,UAAU,gBACVC,iBAAe,2BAEf,yBAAKD,UAAU,cACb,kBAAC,IAAD,CACEJ,GAAIA,EACJM,4BAA4B,EAC5BC,4BAA4B,QAE5B,kBAAC,IAAD,CACEC,IAAKP,EACLQ,IAAKP,EACLQ,iBAAiB,MAKtBb,GAEG,yBAAKO,UAAU,0BACb,kBAAC,IAAD,CACEJ,GAAIA,EACJM,4BAA4B,EAC5BC,4BAA4B,QAE5B,wBAAIH,UAAU,wBAAwBP,EAAtC,KAA+CE,GAC/C,uBAAGK,UAAU,2BAA2BD,GACxC,uBAAGC,UAAU,2BAA2BN,QC1CvCa,G,UCKA,oBACbd,aADa,MACL,GADK,MAEbC,gBAFa,MAEF,GAFE,MAGbC,YAHa,MAGN,GAHM,MAIbC,UAJa,MAIR,GAJQ,MAKbY,kBALa,MAKA,GALA,MAMbX,cANa,MAMJ,GANI,MAObC,cAPa,MAOJ,GAPI,SASX,yBACEE,UAAU,gBACVC,iBAAe,2BAEf,yBAAKD,UAAU,wBACb,kBAAC,IAAD,CACEJ,GAAIA,EACJM,4BAA4B,EAC5BC,4BAA4B,QAE5B,kBAAC,IAAD,CACEC,IAAKP,EACLQ,IAAKP,EACLQ,iBAAiB,MAKvB,yBAAKN,UAAU,0BACb,kBAAC,IAAD,CACEJ,GAAIA,EACJM,4BAA4B,EAC5BC,4BAA4B,QAE5B,wBAAIH,UAAU,wBAAwBP,EAAtC,KAA+CE,GAC/C,wBAAIK,UAAU,2BAA2BN,GACzC,wBAAIM,UAAU,8BACZ,4BACGQ,EAAWT,eAAeA,eAD7B,KAC+CS,EAAWT,eAAeU,cAEzE,4BAAKD,EAAWE,kBCtCtBC,G,UAAW,CACfC,KAAM,OACNC,KAAM,gBAGFC,EAAgB,CACpBF,KAAM,aACNC,KAAM,eAGFE,EAAW,CACfH,KAAM,OACNC,KAAM,aAGFG,EAAiB,CACrBL,EACAG,EACAC,GAGIE,EAAcN,EAEdO,EAAmB,SAAC,GAAD,QACvBC,aADuB,MACf,GADe,MAEvBC,YAFuB,MAEhBH,EAFgB,SAIrB,yBAEAjB,UAAU,oBACVC,iBAAe,8BACfoB,mBAAmBD,EAAKR,MAGpBO,EAAMG,KAAI,SAAAC,GAAI,OAAK,yBACjBC,IAAMD,EAAKE,gBACXzB,UAAU,iBAEVW,IAAaS,GAAQ,kBAAC,EAAD,CACnB3B,MAAQ8B,EAAKG,WACbhC,SAAW6B,EAAK7B,SAChBC,KAAO4B,EAAK5B,KACZC,GAAI2B,EAAK3B,GACTG,eAAgBwB,EAAKxB,eACrBF,OAAS0B,EAAK1B,SAIdiB,IAAkBM,GAAQ,kBAAC,EAAD,CAC1BxB,GAAK2B,EAAK3B,GACVC,OAAS0B,EAAK1B,SAIhBkB,IAAaK,GAAQ,kBAAC,EAAD,CACnB3B,MAAQ8B,EAAK9B,MACbC,SAAW6B,EAAK7B,SAChBC,KAAM4B,EAAK5B,KACXa,WAAYe,EAAKf,WACjBT,eAAgBwB,EAAKxB,eACrBH,GAAK2B,EAAK3B,GACVC,OAAS0B,EAAK1B,eAS1BqB,EAAiBS,SAAW,oBAC1BP,YAD0B,MACnBH,EADmB,MAE1BW,oBAF0B,MAEX,aAFW,SAI1B,kBAAC,IAAD,CAAU5B,UAAU,8BAChBgB,EAAeM,KAAI,SAAAO,GAAW,OAC9B,kBAAC,IAASC,KAAV,CACEN,IAAMK,EAAYjB,MAElB,uBACEZ,UAAS,wDAA2D6B,IAAgBT,EAAQ,YAAc,IAC1GW,QAAU,kBAAMH,EAAaC,KAC5BA,EAAYhB,YAMvBK,EAAiBD,YAAcA,EAEhBC,QC/FAA,O,yDCFf,qGAae,sBAAe,IAAZc,EAAW,EAAXA,KAChBC,YAAK,MAEL,IAAMd,EAAQe,IAAQC,oBAAoBH,EAAKI,iBAC5CC,OAAOH,IAAQI,kBACfhB,IAAIY,IAAQK,4BACZjB,IAAIY,IAAQM,YANY,EAQ2BC,mBAASvB,IAAiBD,aAAzEyB,EARoB,KAQCC,EARD,KAU3B,OACE,yBACE3C,UAAU,OACV4C,YAAU,SAEV,kBAAC,IAAD,KACE,kEAGF,yBACE5C,UAAU,aAEV,kBAAC,IAAD,KACE,kBAAC,IAAiB2B,SAAlB,CACEP,KAAOsB,EACPd,aAAee,KAInB,0BACE3C,UAAU,gBAEV,kBAAC,IAAD,CACEoB,KAAOsB,EACPvB,MAAQA,S,8DC7CZ0B,E,OAAgBC,EAAhBD,YAEFE,EAAgC,SAACxB,GACrC,IAAMyB,EAAiB,CACrBC,MAAO,CACLC,cAAe,CACbC,MAAO,EACPC,OAAQ,IAGZC,SAAU,CACR,CAAC,KAAM,IAAK,IAAK,IAAK,MAAMC,QAC1B,SAACC,EAAKC,GAEJ,OADAD,EAAIC,GAAQ,CAAEpD,IAAK,GAAIM,WAAY,CAAEyC,MAAO,EAAGC,OAAQ,IAChDG,IAET,MAIAE,EAAYlC,EAAKmC,OAAOC,gBAAkBpC,EAAKmC,OAAOE,SAAWZ,EAEvE,OAAOS,EAAUJ,SAASI,EAAUJ,SAASQ,OAAS,IAGzC,KACb1B,oBADa,SACO2B,GAClB,OAAOA,EAASC,MAAMT,QAAO,SAACC,EAAKS,GAEjC,OADAT,EAAIU,KAAJ,MAAAV,EAAG,YAASS,EAAKE,KAAK/C,QACfoC,IACN,KAGLjB,iBARa,SAQIf,GACf,QAASA,EAAKmC,QAGhBlB,WAZa,SAYFjB,GACT,IAAM4C,EAAW5C,EAAK6C,gBAAgBC,MAAK,SAAAC,GAAM,MAAoB,aAAhBA,EAAOC,QACtDC,IAAwBjD,EAAKkD,YAAclD,EAAKkD,WAAWC,QAAQ,MAAO,IAC1E3E,EAAkBwB,EAAKkD,WAAiBlD,EAAKxB,eAAeA,eAA3C,KAA8DyE,EAAyBjD,EAAKxB,eAAeA,eAC5HN,EAAS8B,EAAKoD,OAAO,IAAMpD,EAAKoD,OAAO,GAAGlF,OAAU,GACpDiC,EAAcjC,EAAMoE,OAAShB,EAAkBpD,EAAMmF,OAAO,EAAG/B,GAAlD,IAAoEpD,EAEjFI,EAAS0B,EAAKsD,oBAAoBC,EAAE1E,KAAO,GAEjD,MAAO,CACLqB,gBAAiBF,EAAKE,gBACtBhC,QACAiC,aACAhC,SAAUyE,EAAWA,EAASY,KAAO,IACrCpF,KAAM4B,EAAKyD,OAAOC,OAAS,GAC3BzE,WAAYe,EACZxB,iBACAH,GAAG,IAAK2B,EAAK2D,SAAX,IAAuB3D,EAAK4D,KAC9BtF,WAIJ0C,2BAlCa,SAkCchB,GACzB,OAAO,OAAP,UACKA,EADL,CAEEsD,oBAAqB9B,EAA8BxB,Q,mBCjEzD6D,EAAOC,QAAU,CACfxC,YAAa,K","file":"component---src-pages-index-jsx-77a8c0d7a06ea0538b59.js","sourcesContent":["\nimport ArtefactCard from './artefact-card';\n\nexport default ArtefactCard;\n","import React from 'react';\n\nimport Image from '~/components/atoms/image';\nimport Link from '~/components/atoms/link';\n\nimport './artefact-card.scss';\n\nexport default ({\n  title = '',\n  subtitle = '',\n  date = '',\n  to = '',\n  imgSrc = '',\n  imgAlt = '',\n  classification = '',\n}) => (\n    <div\n      className=\"artefact-card\"\n      data-component=\"molecules/artefact-card\"\n    >\n      <div className=\"card-image\">\n        <Link\n          to={to}\n          triggersInternalTransition={true}\n          internalTransitionDirection='left'\n        >\n          <Image\n            src={imgSrc}\n            alt={imgAlt}\n            modifierWithBox={true}\n\n          />\n        </Link>\n      </div>\n      {title\n        && (\n          <div className=\"artefact-card__content\">\n            <Link\n              to={to}\n              triggersInternalTransition={true}\n              internalTransitionDirection='left'\n            >\n              <h2 className=\"artefact-card__title\">{title}, {date}</h2>\n              <p className=\"artefact-card__subtitle\">{classification}</p>\n              <p className=\"artefact-card__subtitle\">{subtitle}</p>\n            </Link>\n          </div>\n        )\n      }\n    </div>\n);\n","import ArtefactLine from './artefact-line';\n\nexport default ArtefactLine;\n","import React from 'react';\n\nimport Image from '~/components/atoms/image';\nimport Link from '~/components/atoms/link';\n\nimport './artefact-line.scss';\n\nexport default ({\n  title = '',\n  subtitle = '',\n  date = '',\n  to = '',\n  masterData = '',\n  imgSrc = '',\n  imgAlt = '',\n}) => (\n    <div\n      className=\"artefact-line\"\n      data-component=\"molecules/artefact-line\"\n    >\n      <div className=\"artefact-line__image\">\n        <Link\n          to={to}\n          triggersInternalTransition={true}\n          internalTransitionDirection='left'\n        >\n          <Image\n            src={imgSrc}\n            alt={imgAlt}\n            modifierWithBox={true} // -has-box artefact-line-image\n          />\n        </Link>\n      </div>\n\n      <div className=\"artefact-line__content\">\n        <Link\n          to={to}\n          triggersInternalTransition={true}\n          internalTransitionDirection='left'\n        >\n          <h2 className=\"artefact-line__title\">{title}, {date}</h2>\n          <h3 className=\"artefact-line__subtitle\">{subtitle}</h3>\n          <ul className=\"artefact-line__master-data\">\n            <li>\n              {masterData.classification.classification}, {masterData.classification.printProcess}\n            </li>\n            <li>{masterData.dimensions}</li>\n          </ul>\n        </Link>\n      </div>\n\n    </div>\n);\n","import React from 'react';\n\nimport Switcher from '~/components/atoms/switcher';\nimport ArtefactCard from '~/components/molecules/artefact-card';\nimport ArtefactLine from '~/components/molecules/artefact-line';\n\nimport './artefact-overview.scss';\n\nconst CardView = {\n  type: 'card',\n  icon: 'view_column',\n};\n\nconst CardSmallView = {\n  type: 'card-small',\n  icon: 'view_module',\n};\n\nconst ListView = {\n  type: 'list',\n  icon: 'view_list',\n};\n\nconst SupportedViews = [\n  CardView,\n  CardSmallView,\n  ListView,\n];\n\nconst DefaultView = CardView;\n\nconst ArtefactOverview = ({\n  items = [],\n  view = DefaultView,\n}) => (\n    <div\n\n    className=\"artefact-overview\"\n    data-component=\"organisms/artefact-overview\"\n    data-active-view={ view.type }\n  >\n    {\n        items.map(item => (<div\n          key={ item.inventoryNumber }\n          className=\"overview-item\"\n        >\n        { CardView === view && <ArtefactCard\n            title={ item.titleShort }\n            subtitle={ item.subtitle }\n            date={ item.date }\n            to={item.to}\n            classification={item.classification}\n            imgSrc={ item.imgSrc }\n          />\n        }\n\n          { CardSmallView === view && <ArtefactCard\n            to={ item.to }\n            imgSrc={ item.imgSrc }\n          />\n          }\n\n        { ListView === view && <ArtefactLine\n            title={ item.title }\n            subtitle={ item.subtitle }\n            date={item.date}\n            masterData={item.masterData}\n            classification={item.classification}\n            to={ item.to }\n            imgSrc={ item.imgSrc }\n          />\n        }\n        </div>\n        ))\n    }\n  </div>\n);\n\nArtefactOverview.Switcher = ({\n  view = DefaultView,\n  handleChange = () => {},\n}) => (\n  <Switcher className=\"artefact-overview-switcher\" >\n    { SupportedViews.map(currentView => (\n      <Switcher.Item\n        key={ currentView.type }\n      >\n        <i\n          className={ `material-icons artefact-overview-switcher-item-icon ${(currentView === view) ? 'is-active' : ''}` }\n          onClick={ () => handleChange(currentView) }\n        >{ currentView.icon }</i>\n      </Switcher.Item>\n    )) }\n  </Switcher>\n);\n\nArtefactOverview.DefaultView = DefaultView;\n\nexport default ArtefactOverview;\n","\nimport ArtefactOverview from './artefact-overview';\n\nexport default ArtefactOverview;\n","\nimport React, { useState } from 'react';\nimport Helmet from 'react-helmet';\n\nimport { graphql } from 'gatsby';\n\nimport Navigation from '~/components/molecules/navigation';\nimport ArtefactOverview from '~/components/organisms/artefact-overview';\n\nimport graphic from '~/libs/transformers/graphic';\n\nimport i18n from '~/i18n';\n\n\nexport default ({ data }) => {\n  i18n('de');\n\n  const items = graphic.flattenGraphQlEdges(data.allGraphicsJson)\n    .filter(graphic.byImageExistence)\n    .map(graphic.toAddedRepresentativeImage)\n    .map(graphic.toArtefact);\n\n  const [currentArtefactView, setCurrentArtefactView] = useState(ArtefactOverview.DefaultView);\n\n  return (\n    <div\n      className=\"page\"\n      data-page=\"index\"\n    >\n      <Helmet>\n        <title>Cranach Digital Archive | Home</title>\n      </Helmet>\n\n      <div\n        className=\"page-dark\"\n      >\n        <Navigation>\n          <ArtefactOverview.Switcher\n            view={ currentArtefactView }\n            handleChange={ setCurrentArtefactView }\n          />\n        </Navigation>\n\n        <main\n          className=\"main-content\"\n        >\n          <ArtefactOverview\n            view={ currentArtefactView }\n            items={ items }\n          />\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport const query = graphql`\n  query VirtualCranachGraphicObjects {\n    allGraphicsJson(filter: {\n      items: {\n        elemMatch: {\n          isVirtual: {\n            eq: true\n          },\n          langCode: {\n            eq: \"de\"\n          },\n        }\n      }\n    }) {\n      edges {\n        node {\n          items {\n            langCode\n            slug\n            objectName\n            inventoryNumber\n            objectId\n            dimensions\n            dating {\n              dated\n            }\n            isVirtual\n            sortingNumber\n            titles {\n              remarks\n              title\n              type\n            }\n            classification {\n              classification\n              condition\n              printProcess\n            }\n            references {\n              reprints {\n                inventoryNumber\n              }\n              relatedWorks {\n                inventoryNumber\n              }\n            }\n            images {\n              representative {\n                infos {\n                  maxDimensions {\n                    width\n                    height\n                  }\n                }\n                variants {\n                  xs {\n                    dimensions {\n                      width\n                      height\n                    }\n                    src\n                  }\n                  s {\n                    dimensions {\n                      width\n                      height\n                    }\n                    src\n                  }\n                  m {\n                    dimensions {\n                      width\n                      height\n                    }\n                    src\n                  }\n                  l {\n                    dimensions {\n                      width\n                      height\n                    }\n                    src\n                  }\n                  xl {\n                    dimensions {\n                      width\n                      height\n                    }\n                    src\n                  }\n                }\n              }\n            }\n            involvedPersons {\n              name\n              role\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","\nimport cranachCfg from '~/cranach.config';\n\nconst { titleLength } = cranachCfg;\n\nconst getRepresentativeImageVariant = (item) => {\n  const emptyImageType = {\n    infos: {\n      maxDimensions: {\n        width: 0,\n        height: 0,\n      },\n    },\n    variants: [\n      ['xs', 's', 'm', 'l', 'xl'].reduce(\n        (acc, size) => {\n          acc[size] = { src: '', dimensions: { width: 0, height: 0 } };\n          return acc;\n        },\n        {},\n      ),\n    ],\n  };\n  const imageType = item.images.representative || item.images.overall || emptyImageType;\n\n  return imageType.variants[imageType.variants.length - 1];\n};\n\nexport default {\n  flattenGraphQlEdges(rawItems) {\n    return rawItems.edges.reduce((acc, edge) => {\n      acc.push(...edge.node.items);\n      return acc;\n    }, []);\n  },\n\n  byImageExistence(item) {\n    return !!item.images;\n  },\n\n  toArtefact(item) {\n    const inventor = item.involvedPersons.find(person => person.role === 'Inventor');\n    const classificationLevel2 = (item.objectName) ? item.objectName.replace(/:.*/, '') : false;\n    const classification = (item.objectName) ? `${item.classification.classification}, ${classificationLevel2}` : item.classification.classification;\n    const title = (item.titles[0] && item.titles[0].title) || '';\n    const titleShort = (title.length > titleLength) ? `${title.substr(0, titleLength)}…` : title;\n\n    const imgSrc = item.representativeImage.s.src || '';\n\n    return {\n      inventoryNumber: item.inventoryNumber,\n      title,\n      titleShort,\n      subtitle: inventor ? inventor.name : ' ',\n      date: item.dating.dated || '',\n      masterData: item,\n      classification,\n      to: `/${item.langCode}/${item.slug}`,\n      imgSrc,\n    };\n  },\n\n  toAddedRepresentativeImage(item) {\n    return {\n      ...item,\n      representativeImage: getRepresentativeImageVariant(item),\n    };\n  },\n};\n","module.exports = {\n  titleLength: 48, // Anzahl der Zeichen beim gekürzten Titel\n};\n"],"sourceRoot":""}