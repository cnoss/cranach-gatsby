{"version":3,"sources":["webpack:///./src/components/molecules/involved-persons-list/index.js","webpack:///./src/components/molecules/involved-persons-list/involved-persons-list.jsx","webpack:///./src/components/atoms/copy-text/index.js","webpack:///./src/components/atoms/copy-text/copy-text.jsx","webpack:///./src/components/organisms/leporello-graphic-details-item/leporello-graphic-details-item.jsx","webpack:///./src/components/organisms/leporello-graphic-details-item/index.js","webpack:///./src/components/molecules/graphics-list/index.js","webpack:///./src/components/molecules/graphics-list/graphics-list.jsx","webpack:///./src/components/organisms/leporello-graphic-reprints-item/leporello-graphic-reprints-item.jsx","webpack:///./src/components/organisms/leporello-graphic-reprints-item/index.js","webpack:///./src/components/organisms/leporello-artefact-related-works-item/leporello-artefact-related-works-item.jsx","webpack:///./src/components/organisms/leporello-artefact-related-works-item/index.js","webpack:///./src/templates/virtual-object-page.jsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.number.max-safe-integer.js"],"names":["InvolvedPersonsTable","data","items","map","item","idx","className","key","alternativeName","role","remarks","CopyText","text","split","i","LeporelloGraphicDetailsItem","location","graphic","visibleCloser","initiallyOpen","t","useTranslation","translations","inventor","involvedPersons","find","person","title","titles","subtitle","name","description","images","dating","dimensions","inventoryNumber","inscription","signature","catalogWorkReferences","publications","classification","objectName","sortingWeight","pos","getPatternPos","str","foundSortingWeight","sw","Number","MAX_SAFE_INTEGER","catalogWorkReferenceItems","sort","a","b","reference","term","catalogWorkReferenceName","definition","referenceNumber","useState","additionalClassNames","setAdditionalClassNames","isOpen","setIsOpen","useEffect","join","data-component","onToggle","visibleToggler","closerType","src","sizes","l","alt","modifier","Entry","dated","length","GraphicsList","onItemClick","imgSrc","to","triggersInternalTransition","onClick","e","preventLinkFollowing","preventDefault","classNamePrefix","caption","LeporelloGraphicReprintsItem","reprints","limitItemsTo","reprintItems","reprintItem","ref","owner","langCode","slug","s","conditionLevel","limitReprintItems","setLimitReprintItems","innerHandleItemClick","foundSelectedItem","refItem","reprintConditionLevelGroups","id","filter","reprintRefItem","includes","conditionLevelGroup","group","atLeastOneGroupHasMoreReprintItemsThanLimit","some","reprintGroup","slice","LeporelloArtefactRelatedWorksItem","relatedWorks","relatedWorkItemsLimit","hasMoreRelatedWorkItemsThanLimit","relatedWorksItems","relatedWorksItem","limitRelatedWorkItems","setLimitRelatedWorkItems","PageTemplate","pageContext","i18n","selectedReprintItem","setSelectedReprintItem","data-template","goBackTo","href","onClose","references","$export","S"],"mappings":"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","file":"component---src-templates-virtual-object-page-jsx-eb483ff9b5761535a747.js","sourcesContent":["import InvolvedPersonsTable from './involved-persons-list';\n\nexport default InvolvedPersonsTable;\n","import React from 'react';\n\nimport './involved-persons-list.scss';\n\nexport default ({\n  data = [],\n}) => {\n  const items = data.map((item, idx) => (<li className=\"involved-persons-list__item\" key={idx}>{item.alternativeName}, {item.role} {(item.remarks) ? <span className=\"remarks\">{item.remarks}</span> : ''}</li>));\n  return (\n    <ul\n      className=\"involved-persons-list\">\n      {items}\n    </ul>);\n};\n","import CopyText from './copy-text';\n\nexport default CopyText;\n","\nimport React from 'react';\n\nimport './copy-text.scss';\n\n\nexport default ({\n  text,\n}) => (\n  <div\n    className=\"copy-text\"\n  >\n    { text.split('\\n').map((item, i) => <p key={i}>{ item || '\\u200B' }</p>) }\n  </div>\n);\n","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from '~/i18n';\n\nimport LeporelloGraphicItem from '~/components/molecules/leporello-graphic-item';\nimport DefinitionList from '~/components/atoms/definition-list';\nimport InvolvedPersonsList from '~/components/molecules/involved-persons-list';\nimport LiteratureTable from '~/components/molecules/literature-table';\nimport CopyText from '~/components/atoms/copy-text';\nimport Image from '~/components/atoms/image';\n\nimport translations from './translations.json';\nimport './leporello-graphic-details-item.scss';\n\nexport default ({\n  location,\n  graphic,\n  visibleCloser = true,\n  initiallyOpen = false,\n  className = '',\n}) => {\n  const { t } = useTranslation('LeporelloGraphicDetailsItem', translations);\n\n  /* Prepare main and important object infos for usage */\n  const inventor = graphic.involvedPersons.find(person => person.role === 'Inventor');\n\n  const title = (graphic.titles[0] && graphic.titles[0].title) || '';\n  const subtitle = inventor ? inventor.name : ' ';\n  const description = graphic.description || ' ';\n\n  const {\n    images,\n    dating,\n    dimensions,\n    involvedPersons,\n    inventoryNumber,\n    inscription,\n    signature,\n    catalogWorkReferences,\n    publications,\n    classification,\n    objectName,\n  } = graphic;\n\n  /* Sorting catalogWorkReferences */\n  const sortingWeight = [\n    {\n      name: 'Bartsch',\n      pos: 1,\n    },\n    {\n      name: 'Hollstein',\n      pos: 2,\n    },\n    {\n      name: 'GND',\n      pos: 3,\n    },\n  ];\n  const getPatternPos = (str) => {\n    const foundSortingWeight = sortingWeight.find(sw => str === sw.name);\n\n    return foundSortingWeight ? foundSortingWeight.pos : Number.MAX_SAFE_INTEGER;\n  };\n  const sortedCatalogWorkReferences = catalogWorkReferences.sort(\n    (a, b) => getPatternPos(b.description) - getPatternPos(a.description),\n  );\n\n  /* Map catalog work references */\n  const catalogWorkReferenceItems = sortedCatalogWorkReferences.map(\n    reference => ({\n      term: t('{{catalogWorkReferenceName}}-No', { catalogWorkReferenceName: reference.description }),\n      definition: reference.referenceNumber,\n    }),\n  );\n\n  const [additionalClassNames, setAdditionalClassNames] = useState([]);\n  const [isOpen, setIsOpen] = useState(!!initiallyOpen);\n\n  /* React on isOpen change */\n  useEffect(() => {\n    setIsOpen(!!initiallyOpen);\n  }, [initiallyOpen]);\n\n  /* React on additional classnames change and open / close toggle */\n  useEffect(() => {\n    setAdditionalClassNames([\n      ...className.split(' '),\n      /*\n        We add an extra classname, if the leporello item was opened,\n        to be able to react to it on style level\n      */\n      ...(isOpen ? ['-is-open'] : []),\n    ]);\n  }, [className, isOpen]);\n\n  return (\n    <LeporelloGraphicItem\n      className={`leporello-graphic-details-item-wrap ${additionalClassNames.join(' ')}`}\n      data-component=\"organisms/leporello-graphic-details-item\"\n      initiallyOpen={isOpen}\n      onToggle={setIsOpen}\n      visibleToggler={visibleCloser}\n      closerType=\"with-cover\"\n    >\n      <div className={`leporello-graphic-details-item ${additionalClassNames.join(' ')}`}>\n        <div className={'leporello-graphic-details-item__image'}>\n          <Image\n            src={images.sizes.l.src}\n            alt={title}\n            modifier=\"\"\n          />\n        </div>\n\n        <div className=\"leporello-graphic-details-item__info\">\n          <h1 className=\"title\">{ title }</h1>\n          <h2 className=\"subtitle inventor\">\n            { subtitle }\n          </h2>\n\n          <div className=\"further-infos\">\n\n            <DefinitionList>\n\n\n              <DefinitionList.Entry\n                term={ t('Attribution') }\n                definition={ <InvolvedPersonsList data={ involvedPersons } /> }\n              />\n\n              <DefinitionList.Entry\n                term={ t('Classification') }\n                definition={ `${classification.classification}, ${objectName}` }\n              />\n              <DefinitionList.Entry\n                term={ t('Dating') }\n                definition={ `${dating.dated} ${dating.remarks}` }\n              />\n              <DefinitionList.Entry\n                term={ t('Measurments') }\n                definition={dimensions}\n              />\n              { signature && <DefinitionList.Entry\n                term={ t('Signature') }\n                definition={signature}\n              />\n              }\n\n              { inscription\n                && <DefinitionList.Entry\n                term={ t('Inscription') }\n                definition={inscription}\n              />\n              }\n\n              <DefinitionList.Entry\n                term=\"CDA ID\"\n                definition={inventoryNumber}\n              />\n              <DefinitionList.Entry\n                term={ t('Persistent Link') }\n                definition={location}\n              />\n              {\n                catalogWorkReferenceItems.map(\n                  item => (\n                    <DefinitionList.Entry\n                      key={item.term}\n                      term={item.term}\n                      definition={item.definition}\n                    />\n                  ),\n                )\n              }\n\n            </DefinitionList>\n\n            {publications.length > 0\n              && <DefinitionList>\n              <DefinitionList.Entry\n                term={ t('Literature') }\n                definition={ <LiteratureTable data={ publications } /> }\n              />\n            </DefinitionList>\n            }\n\n            <CopyText\n              text={description}\n            />\n          </div>\n        </div>\n      </div>\n    </LeporelloGraphicItem>\n  );\n};\n","import LeporelloGraphicDetailsItem from './leporello-graphic-details-item';\n\nexport default LeporelloGraphicDetailsItem;\n","import GraphicsList from './graphics-list';\n\nexport default GraphicsList;\n","import React from 'react';\n\nimport Link from '~/components/atoms/link';\nimport Image from '~/components/atoms/image';\n\nimport './graphics-list.scss';\n\nexport default ({\n  items,\n  onItemClick,\n}) => (\n    <ul\n      className=\"graphics-list\"\n      data-component=\"molecules/graphics-list\"\n    >\n      {\n        items.map(\n          item => <li\n            key={item.imgSrc}\n            className=\"graphics-list-item\"\n          >\n            <Link\n              to={item.to}\n              triggersInternalTransition={!!item.triggersInternalTransition}\n              onClick={(e) => {\n                if (item.preventLinkFollowing) {\n                  if ((typeof onItemClick) === 'function') {\n                    onItemClick(item);\n                  }\n                  e.preventDefault();\n                  return false;\n                }\n\n                return true;\n              }}\n            >\n              <Image\n                src={item.imgSrc}\n                alt={item.title}\n                classNamePrefix={'graphics-list-item__image'}\n                caption={item.title}\n                modifier=\"--with-box\"\n              />\n            </Link>\n          </li>,\n        )\n      }\n    </ul>\n\n);\n","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from '~/i18n';\n\nimport LeporelloGraphicItem from '~/components/molecules/leporello-graphic-item';\nimport GraphicsList from '~/components/molecules/graphics-list';\n\nimport translations from './translations.json';\nimport './leporello-graphic-reprints-item.scss';\n\nexport default ({\n  reprints,\n  className = '',\n  onItemClick = () => {},\n  limitItemsTo = 5,\n}) => {\n  const { t } = useTranslation('LeporelloGraphicReprintsItem', translations);\n\n  /* Map reprints */\n  const reprintItems = reprints.map((reprintItem) => {\n    const item = reprintItem.ref;\n\n    return {\n      inventoryNumber: item.inventoryNumber,\n      title: item.owner || '',\n      to: `/${item.langCode}/${item.slug}`,\n      imgSrc: (item && item.images && item.images.sizes.s && item.images.sizes.s.src),\n      preventLinkFollowing: true,\n      conditionLevel: item.conditionLevel,\n    };\n  });\n\n  const [additionalClassNames, setAdditionalClassNames] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [limitReprintItems, setLimitReprintItems] = useState(!isOpen);\n\n  /* React on additional classnames changes */\n  useEffect(() => {\n    setAdditionalClassNames([\n      ...className.split(' '),\n    ]);\n  }, [className, isOpen]);\n\n  /* React on open / close toggle */\n  useEffect(() => {\n    setLimitReprintItems(!isOpen);\n  }, [isOpen]);\n\n  const innerHandleItemClick = (item) => {\n    const foundSelectedItem = reprints.find(\n      refItem => refItem.inventoryNumber === item.inventoryNumber,\n    );\n\n    if (foundSelectedItem && (typeof onItemClick) === 'function') {\n      onItemClick(foundSelectedItem.ref);\n    }\n  };\n\n  const expectedReprintConditionLevelGroups = [\n    {\n      id: '1st-state',\n      translations: {\n        title: 'Reprints',\n        subtitle: '1st state',\n        description: '1st state description',\n      },\n      filter: reprintRefItem => reprintRefItem && [0, 1].includes(reprintRefItem.conditionLevel),\n      items: [],\n    },\n    {\n      id: '2nd-state',\n      translations: {\n        title: 'Reprints',\n        subtitle: '2nd state',\n        description: '2nd state description',\n      },\n      filter: reprintRefItem => reprintRefItem && reprintRefItem.conditionLevel === 2,\n      items: [],\n    },\n    {\n      id: '3rd-state',\n      translations: {\n        title: 'Reprints',\n        subtitle: '3rd state',\n        description: '3rd state description',\n      },\n      filter: reprintRefItem => reprintRefItem && reprintRefItem.conditionLevel === 3,\n      items: [],\n    },\n  ];\n\n  const reprintConditionLevelGroups = expectedReprintConditionLevelGroups.map(\n    conditionLevelGroup => ({\n      ...conditionLevelGroup,\n      items: reprintItems.filter(\n        conditionLevelGroup.filter,\n      ),\n    }),\n  ).filter(group => group.items.length > 0);\n\n  /* Toggler should be visible if at least one group has more items\n    as the given initial limit allows */\n  const atLeastOneGroupHasMoreReprintItemsThanLimit = reprintConditionLevelGroups.some(\n    group => group.items.length > limitItemsTo,\n  );\n\n  return (\n    <LeporelloGraphicItem\n      className={`leporello-graphic-reprints-item-wrap ${additionalClassNames.join(' ')}`}\n      data-component=\"organisms/leporello-graphic-reprints-item\"\n      initiallyOpen={isOpen}\n      onToggle={setIsOpen}\n      visibleToggler={atLeastOneGroupHasMoreReprintItemsThanLimit}\n    >\n      {reprintConditionLevelGroups.map((reprintGroup, idx) => (\n        <div\n          key={reprintGroup.id}\n          className=\"leporello-graphic-reprints-item\"\n        >\n            <div className=\"leporello-graphic-reprints-item-intro\">\n              { idx === 0\n                && (\n                  <h2 className=\"chapter\">\n                    {t(reprintGroup.translations.title)}\n                  </h2>\n                )\n              }\n              <h3 className=\"headline\">{t(reprintGroup.translations.subtitle)}</h3>\n\n            </div>\n            <div className=\"leporello-graphic-reprints-item-list\">\n              <GraphicsList\n                items={\n                  limitReprintItems\n                    ? reprintGroup.items.slice(0, limitItemsTo)\n                    : reprintGroup.items\n                }\n                onItemClick={ innerHandleItemClick }\n              />\n            </div>\n          </div>\n      ))}\n    </LeporelloGraphicItem>\n  );\n};\n","import LeporelloGraphicReprintsItem from './leporello-graphic-reprints-item';\n\nexport default LeporelloGraphicReprintsItem;\n","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from '~/i18n';\n\nimport LeporelloGraphicItem from '~/components/molecules/leporello-graphic-item';\nimport GraphicsList from '~/components/molecules/graphics-list';\n\nimport translations from './translations.json';\nimport './leporello-artefact-related-works-item.scss';\n\nexport default ({\n  relatedWorks,\n  className = '',\n  limitItemsTo = 5,\n}) => {\n  const { t } = useTranslation('LeporelloArtefactRelatedWorksItem', translations);\n\n  /* Number of initial visible related works items */\n  const relatedWorkItemsLimit = limitItemsTo;\n  const hasMoreRelatedWorkItemsThanLimit = relatedWorks.length > relatedWorkItemsLimit;\n\n  /* Map related works */\n  const relatedWorksItems = relatedWorks.map((relatedWorksItem) => {\n    const item = relatedWorksItem.ref;\n\n    return {\n      inventoryNumber: item.inventoryNumber,\n      title: item.titles[0].title || '',\n      to: `/${item.langCode}/${item.slug}`,\n      imgSrc: (item && item.images && item.images.sizes.s && item.images.sizes.s.src),\n      preventLinkFollowing: false,\n      triggersInternalTransition: true,\n    };\n  });\n\n  const [additionalClassNames, setAdditionalClassNames] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [limitRelatedWorkItems, setLimitRelatedWorkItems] = useState(!isOpen);\n\n  /* React on additional classnames changes */\n  useEffect(() => {\n    setAdditionalClassNames([\n      ...className.split(' '),\n    ]);\n  }, [className, isOpen]);\n\n  /* React on open / close toggle */\n  useEffect(() => {\n    setLimitRelatedWorkItems(!isOpen);\n  }, [isOpen]);\n\n  return (\n    <LeporelloGraphicItem\n      className={`leporello-artefact-related-works-item-wrap ${additionalClassNames.join(' ')}`}\n      data-component=\"organisms/leporello-artefact-related-works-item\"\n      initiallyOpen={isOpen}\n      onToggle={setIsOpen}\n      visibleToggler={hasMoreRelatedWorkItemsThanLimit}\n\n    >\n      <div className=\"leporello-artefact-related-works-item\">\n        <div className=\"leporello-artefact-related-works-item-intro\">\n          <h2 className=\"chapter\">{t('Related works')}</h2>\n        </div>\n        <div className=\"leporello-artefact-related-works-item-list\">\n          <GraphicsList\n            items={\n              limitRelatedWorkItems\n                ? relatedWorksItems.slice(0, relatedWorkItemsLimit)\n                : relatedWorksItems\n            }\n          />\n        </div>\n      </div>\n    </LeporelloGraphicItem>\n  );\n};\n","import LeporelloArtefactRelatedWorksItem from './leporello-artefact-related-works-item';\n\nexport default LeporelloArtefactRelatedWorksItem;\n","/* src/templates/virtual-object-page.js */\n\nimport React, { useState } from 'react';\nimport Helmet from 'react-helmet';\n\nimport Navigation from '~/components/molecules/navigation';\nimport Leporello from '~/components/atoms/leporello';\nimport LeporelloGraphicDetailsItem from '~/components/organisms/leporello-graphic-details-item';\nimport LeporelloGraphicReprintsItem from '~/components/organisms/leporello-graphic-reprints-item';\nimport LeporelloArtefactRelatedWorksItem from '~/components/organisms/leporello-artefact-related-works-item';\nimport LeporelloGraphicRealItem from '~/components/organisms/leporello-graphic-real-item';\n\nimport i18n from '~/i18n';\n\n\nconst PageTemplate = ({ pageContext, location }) => {\n  const graphic = pageContext;\n  const title = (graphic.titles[0] && graphic.titles[0].title) || '';\n\n  i18n(graphic.langCode);\n\n  const [selectedReprintItem, setSelectedReprintItem] = useState(null);\n\n  return (\n    <div\n      className=\"template\"\n      data-template=\"virtual-object-page\"\n    >\n      <Helmet>\n        <title>Grafiken | {title} | Virtual</title>\n      </Helmet>\n\n      <Navigation\n        goBackTo={`/${graphic.langCode}`}\n      />\n\n      <section className=\"body\">\n        <Leporello>\n          <LeporelloGraphicDetailsItem graphic={graphic} location={location.href} />\n          {selectedReprintItem\n            ? (\n              <LeporelloGraphicRealItem\n                graphic={selectedReprintItem}\n                onClose={() => setSelectedReprintItem(null)}\n              />\n            )\n            : (\n              <LeporelloGraphicReprintsItem\n                reprints={graphic.references.reprints}\n                onItemClick={setSelectedReprintItem}\n              />\n            )\n          }\n\n          {graphic.references.relatedWorks.length > 0\n            && (\n              <LeporelloArtefactRelatedWorksItem\n                relatedWorks={graphic.references.relatedWorks}\n              />\n            )\n          }\n        </Leporello>\n      </section>\n    </div>\n  );\n};\n\nexport default PageTemplate;\n","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n"],"sourceRoot":""}